model User {
  id                   String              @id @default(uuid())
  name                 String
  email                String              @unique
  role                 UserRole            @default(USER)
  joinedAt             DateTime            @default(now())
  hostelId             String?
  coursePayStatus      CoursePaymentStatus @default(NOT_VERIFIED)
  hostelPayStatus      HostelPaymentStatus @default(NOT_VERIFIED)
  userStatus           UserStatus          @default(NOT_VERIFIED)
  universityId         String
  applicationId        String?
  createdAt            DateTime            @default(now())
  updatedAt            DateTime            @updatedAt
  password             String
  cgpa                 Float?              // Optional CGPA field for placement criteria
  Application          Application?
  verifiedApplications Application[]       @relation("VerifiedApplications")
  verifiedDocuments    Document[]          @relation("VerifiedDocuments")
  verifiedPayments     Payment[]           @relation("VerifiedPayments")
  ExamResult           ExamResult?
  payments             Payment[]
  receipts             Receipt[]
  application          Application?        @relation("userApplication", fields: [applicationId], references: [id], onDelete: SetNull)
  hostelOpted          Hostel?             @relation("UserHostel", fields: [hostelId], references: [id], onDelete: SetNull)
  university           University          @relation(fields: [universityId], references: [id], onDelete: Restrict)
  coursesOpted         Course[]            @relation("UserCourses")
  
  // New relationships for enrollment and attendance
  enrollments          StudentEnrollment[] @relation("StudentEnrollments")
  
  // Attendance relationships
  attendances          Attendance[]        @relation("StudentAttendances")
  markedAttendances    Attendance[]        @relation("MarkedAttendances")
  attendanceSummaries  AttendanceSummary[] @relation("StudentAttendanceSummaries")
  
  // Live class relationships
  instructorLiveClasses LiveClass[]        @relation("InstructorLiveClasses")

  @@map("users")
}

enum UserRole {
  USER
  STUDENT
  PROFESSOR
  ADMIN
  VERIFIER
}

enum CoursePaymentStatus {
  VERIFIED
  NOT_VERIFIED
}

enum HostelPaymentStatus {
  VERIFIED
  NOT_VERIFIED
}

enum UserStatus {
  VERIFIED
  NOT_VERIFIED
}
